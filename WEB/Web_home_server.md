# Web home server
## Router & IP address 
- 공유기
- 컴퓨터와 컴퓨터가 서로 통신하기 위해서는 ```ip```가 필요
- ```ipv4 = 0.0.0.0 ~255.255.255.255``` 
  - ```ipv4```사용자가 많아지면서 ```ipv4```가 부족해져 ```IPv6```가 개발됨
- ```IPv6```가 아직은 보편화적이지 않아서 기존의 ```ip```체계인 ```ipv4```를 아껴써야함
- 이를 해결할 수 있는것이 ```Router```
-------------------------------------------------------------------------------
- 두대의 컴퓨터가 통신할때 양쪽 다 ``ip`` 주소가 반드시 필요
- 통신사와 계약을 해서 회선을 받아 연결하는 순간 아이피가 부여
- 그런데 한 집에 컴퓨터, 스마트폰이 늘어나면서 ```ip```주소가 각각 더 필요하게됨
- 통신사와 계약을 추가로 해서 회선을 받을 수 있지만 가격이 비쌈
- 그래서 공유기라는 기계가 탄생 
### wan
- ```wan = wide area network``` //공유기는 광역 네트워크에 소속되어있다는 의미
- ```wan```에 통신사 회선을 연결하면, ```ip```주소는 공유기것이 되고 인터넷도 공유기로 연결이됨
- 광역 네트워크안에서 공유기로 접속 가능하게 하는 ```ip```는 전세계 누구나 접속 가능하다고해서 ```Public IP address(공용 아이피)```라고 부름
- ```wan ip```이외에 공유기 자체에도 ```ip```가 발급됨 ```ex) 192.168.0.1```
- 공유기에 부여된 내부 네트워크 아이피는 중요한 아이피라서 ```Gateway address```, ```Router address``` 이라는 이름을 가지고 있음
- ```wan``` 과 ```lan``` 사이 교환원 같은 역활을 하는것이 공유기 즉 ```router```

- ```lan =  local area network``` 사용자들이 같은 네트워크에 묶여있음
- ```lan```에 연결된 제품들에는 각각 아이피를 부여```ex) 192.168.0.2, 192.168.0.3```
- 지역네트워크 안에서 쓸수있는 네트워크를 ```private address(사설아이피)```라고 부름
- ```192.168.0.0~192.168.255.255``` 중 ```65536```개만 ```private address(사설아이피)```로 사용할 수 있음
### NAT
- ```Network Address Translation```
- ```private address(사설아이피)``` ```192.168.0.4```을 가진 컴퓨터로 위키디피아에 접속한다고 가정해보자
- 그러면 컴퓨터는 ```Gateway address```에 해당하는 공유기 내부주소에 신호를 보냄
- 하지만 공유기 내부 네트워크에는 위키디피아의 정보가 없기 때문에 ```wan```을 통해서 외부로 신호를 보냄
- 신호를 보내기전에 공유기에 ```192.168.0.4```가 요청한 내용을 공유기 내부에 저장
- ```private address(사설아이피)```가 직접적으로 외부아이피와 연결을 할 수 없기때문에 공유기 내부에 있는 ```NAT```가 요청한 데이터를 
```public IP address```로 변경한 다음에 변경된 데이터를 위키디피아에 요청을 보냄
#### 요약
1. 사설 아이피가 데이터 요청 
2. 공유기는 사설아이피가 요청한 것을 기록
3. 공유기의 ```NAT```가 요청한 데이터들을 외부 아이피 주소로 바꿔 요청
4. 위키디피아는 외부아이피로 데이터를 응답함
5. 공유기는 응답받은 정보를 기록된 정보를 통해 사설아이피에게 정보를 전달
## port
- 한 컴퓨터에 여러 서버가 존재할 수 있음
- ```port```번호를 통해 서버를 구분
- 존재하는```0~65535```포트중에서 ```0~1023```포트는 ```Well-known port```로 변경하면 안됨
- 웹서버를 추가로 만들고 싶을때 ```ex) 80번port http웹서버```  관습적으로  ```port 8080```번에 웹서버를 만듬
- ```ex) http://dedede.com```으로접속하면 ```http```웹서버로 접속하겠다해서 ```port 80```번에 연결됨
- ```ex) http://dedede.com:8080```으로접속하면 ```port 8080```웹서버 포트로 연결
## 유동ip & 고정ip
- 통신사 ```ISP= Internet Service Provider```와 계약하여 아이피를 받음
- 유동아이피 ```Dynamic IP Address``` 
  - 기존아이피를 회수해 인터넷을 사용하는 다른사용자에게 아이피를 넘기기 때문에 아이피가 계속 바뀜
- 고정아이피 ```Static IP Address``` 
  - 비용을 더들여 아이피를 고정시킴
## DHCP
- ```Dynamic Host Configuration Protocol```
- ```DHCP(Dynamic Host Configuration Protocol)```은 네트워크에 접속한 장치의 
```ip```, ```subnet mask```, ```gateway address```, ```DNS```와 같은 정보를 자동으로 설정해주는 기술

### DHCP Server
- 공유기는``` DHCP Server```를 가지고 있고, ```Client 컴퓨터```에는 ```DHCP Client```가 있음
- 통신장비에 식별자가 존재하는데 ```Mac Address```,```Physical Address```라고 부름
## 포트포워딩
- ```ex) 외부ip:8081 -> 사설ip:80```
- 포트포워딩을 통해서 공유기로 들어온 포트번호가 무엇이냐따라 내부네트워크의 특정기기에
특정포트로 포워딩할수있다는것

- 공유기 ```NAT```설정
  - 포트포워딩
  - 외부포트```8081``` 내부포트```80```
### NAS
- ```Network Attached Storage```
- 네트워크를 통한 저장장치
- ```ex) Dropbox``` 등


